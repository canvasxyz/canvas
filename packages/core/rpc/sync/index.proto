syntax = "proto3";

message Node {
  bytes leaf = 1;
  bytes hash = 2;
}

message Request {
  message GetRootRequest {}

  message GetChildrenRequest {
    uint32 level = 3;
    bytes leaf = 4;
  }

  message GetValuesRequest {
    repeated Node nodes = 2;
  }

  uint32 seq = 1;
  oneof request {
    GetRootRequest get_root = 2;
    GetChildrenRequest get_children = 3;
    GetValuesRequest get_values = 4;
  }
}

message Response {
  message GetRootResponse {
    uint32 level = 2;
    bytes hash = 3;
  }

  message GetChildrenResponse {
    repeated Node nodes = 2;
  }

  message GetValuesResponse {
    repeated bytes values = 2;
  }

  uint32 seq = 1;
  oneof response {
    GetRootResponse get_root = 2;
    GetChildrenResponse get_children = 3;
    GetValuesResponse get_values = 4;
  }
}